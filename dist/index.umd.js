!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("axios"),require("fs")):"function"==typeof define&&define.amd?define(["exports","axios","fs"],t):t((e||self).atlas={},0,e.fs)}(this,function(e,t,r){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function a(e){var t="function"==typeof Map?new Map:void 0;return a=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(u())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var o=new(e.bind.apply(e,n));return r&&s(o,r.prototype),o}(e,arguments,i(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},a(e)}var c=/*#__PURE__*/function(e){function t(t,r,n,o){var i;return(i=e.call(this,t)||this).name="AtlasError -> "+r,n&&(i.tips=n),o&&(i.data=o),i}var r,n;return n=e,(r=t).prototype=Object.create(n.prototype),r.prototype.constructor=r,s(r,n),t}(/*#__PURE__*/a(Error));function l(e,t,r,n){throw new c(e,t,r,n)}var f=new(/*#__PURE__*/function(){function e(){}var t=e.prototype;return t.getRegions=function(){try{return Promise.resolve(r.promises.readFile("./assets/regions.json","utf8")).then(JSON.parse)}catch(e){return Promise.reject(e)}},t.getRegionByName=function(e){try{return Promise.resolve(function(){if(isNaN(Number(e)))return Promise.resolve(r.promises.readFile("./assets/regions.json","utf8")).then(function(t){for(var r,n=o(JSON.parse(t));!(r=n()).done;){var i=r.value;if(i.name.toLowerCase()===e.toLowerCase())return i}l("region "+e+" not found","RESULT_NOT_FOUND")});l("region name must be string","INPUT_TYPE_ERR")}())}catch(e){return Promise.reject(e)}},t.getSubRegion=function(e){try{var t=[];return Promise.resolve(r.promises.readFile("./assets/subregions.json","utf8")).then(function(r){for(var n,i=o(JSON.parse(r));!(n=i()).done;){var u=n.value;u.region_id==e&&t.push(u)}if(0!==t.length)return t;l("Subregion with region id "+e+" not found","RESULT_NOT_FOUND")})}catch(e){return Promise.reject(e)}},t.getCountries=function(e,t,n,i,u,s,a,c,l,f,d){try{var m=[];return Promise.resolve(r.promises.readFile("./assets/countries_states_cities.json","utf8")).then(function(r){for(var p,g=o(JSON.parse(r));!(p=g()).done;){var y=p.value,v={};v.id=y.id,v.name=y.name,v.iso2=y.iso2,v.iso3=y.iso3,v.capital=y.capital,t&&(v.phone_code=y.phone_code),e&&(v.currency=y.currency,v.currency_name=y.currency_name,v.currency_symbol=y.currency_symbol),d&&(v.domain=y.tld),n&&(v.native=y.native),i&&(v.nationality=y.nationality),u&&(v.region=y.region,v.region_id=y.region_id),s&&(v.subregion=y.subregion,v.subregion_id=y.subregion_id),a&&(v.translations=y.translations),c&&(v.timezones=y.timezones),l&&(v.latitude=y.latitude,v.longitude=y.longitude),f&&(v.emoji=y.emoji,v.emojiU=y.emojiU),m.push(v)}return m})}catch(e){return Promise.reject(e)}},t.getStates=function(e,t,n,i){try{return Promise.resolve(function(){if(void 0!==e&&null!=e&&isNaN(Number(e))||void 0!==t&&isNaN(Number(t))||void 0!==n&&isNaN(Number(n))){var u=[];return Promise.resolve(r.promises.readFile("./assets/countries_states_cities.json","utf8")).then(function(r){for(var s,a=o(JSON.parse(r));!(s=a()).done;){var c=s.value;if(void 0!==e&&null!=e&&c.name.toLowerCase()===e.toLowerCase()||void 0!==t&&c.iso3.toLowerCase()===t.toLowerCase()||void 0!==n&&c.iso2.toLowerCase()===n.toLowerCase())for(var f,d=o(c.states);!(f=d()).done;){var m=f.value,p={};p.id=m.id,p.name=m.name,p.state_code=m.state_code,i&&(p.latitude=m.latitude,p.longitude=m.longitude),u.push(p)}}if(0!==u.length)return u;l("Country "+e+" not found","RESULT_NOT_FOUND",{country_name:"check entered country name: "+e,iso3:"check entered iso3: "+t,iso2:"check entered iso2: "+n})})}l("region name must be string","INPUT_TYPE_ERR")}())}catch(e){return Promise.reject(e)}},e}());e.getAllCountries=function(e,t,r,n,o,i,u,s,a,c,l){try{return Promise.resolve(f.getCountries(e,t,r,n,o,i,u,s,a,c,l))}catch(e){return Promise.reject(e)}},e.getAllRegions=function(){try{return Promise.resolve(f.getRegions())}catch(e){return Promise.reject(e)}},e.getCountryStates=function(e,t,r,n){try{return Promise.resolve(function(){if(e&&""!==e||t&&""!==t||r&&""!==r)return null!=e&&null!=e&&(e=e.toString()),null!=t&&void 0!==t&&(t=t.toString()),null!=r&&null!=r&&(r=r.toString()),Promise.resolve(f.getStates(e,t,r,n));l("country name, iso3 or iso2 is missing, at least one of them is required!","MISSING_REQUIRED_VALUE")}())}catch(e){return Promise.reject(e)}},e.getSubRegions=function(e){try{return Promise.resolve(function(){if(e&&""!==e)return Promise.resolve(f.getRegionByName(e)).then(function(e){return function(){if(void 0!==e)return Promise.resolve(f.getSubRegion(e.id))}()});l("region name is required!","MISSING_REQUIRED_VALUE")}())}catch(e){return Promise.reject(e)}}});
//# sourceMappingURL=index.umd.js.map
