!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("fs"),require("path"),require("url")):"function"==typeof define&&define.amd?define(["exports","fs","path","url"],t):t((e||self).atlas={},e.fs,e.path,e.url)}(this,function(e,t,r,n){function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(a())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var o=new(e.bind.apply(e,n));return r&&s(o,r.prototype),o}(e,arguments,u(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},c(e)}var l=/*#__PURE__*/function(e){function t(t,r,n,o){var i;return(i=e.call(this,t)||this).name="AtlasError -> "+r,n&&(i.tips=n),o&&(i.data=o),i}var r,n;return n=e,(r=t).prototype=Object.create(n.prototype),r.prototype.constructor=r,s(r,n),t}(/*#__PURE__*/c(Error));function f(e,t,r,n){throw new l(e,t,r,n)}function d(e){try{var t=n.fileURLToPath("undefined"==typeof document&&"undefined"==typeof location?new(require("url").URL)("file:"+t).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("index.umd.js",document.baseURI).href),o=r.dirname(t);return r.join(o,"..","assets",e)}catch(e){console.error("Error reading file:",e)}}var m=new(/*#__PURE__*/function(){function e(){}var r=e.prototype;return r.getRegions=function(){try{return Promise.resolve(t.promises.readFile(d("regions.json"),"utf8")).then(JSON.parse)}catch(e){return Promise.reject(e)}},r.getRegionByName=function(e){try{return Promise.resolve(function(){if(isNaN(Number(e)))return Promise.resolve(t.promises.readFile(d("regions.json"),"utf8")).then(function(t){for(var r,n=i(JSON.parse(t));!(r=n()).done;){var o=r.value;if(o.name.toLowerCase()===e.toLowerCase())return o}f("region "+e+" not found","RESULT_NOT_FOUND")});f("region name must be string","INPUT_TYPE_ERR")}())}catch(e){return Promise.reject(e)}},r.getSubRegion=function(e){try{var r=[];return Promise.resolve(t.promises.readFile(d("subregions.json"),"utf8")).then(function(t){for(var n,o=i(JSON.parse(t));!(n=o()).done;){var u=n.value;u.region_id==e&&r.push(u)}if(0!==r.length)return r;f("Subregion with region id "+e+" not found","RESULT_NOT_FOUND")})}catch(e){return Promise.reject(e)}},r.getCountries=function(e){var r=e.currency,n=e.dialCode,o=e.native,u=e.nationality,a=e.region,s=e.subregion,c=e.translations,l=e.timezones,f=e.geolocation,m=e.emojies,g=e.domain;try{var v=[];return Promise.resolve(t.promises.readFile(d("countries_states_cities.json"),"utf8")).then(function(e){for(var t,d=i(JSON.parse(e));!(t=d()).done;){var y=t.value,p={};p.id=y.id,p.name=y.name,p.iso2=y.iso2,p.iso3=y.iso3,p.capital=y.capital,n&&(p.phone_code=y.phone_code),r&&(p.currency=y.currency,p.currency_name=y.currency_name,p.currency_symbol=y.currency_symbol),g&&(p.domain=y.tld),o&&(p.native=y.native),u&&(p.nationality=y.nationality),a&&(p.region=y.region,p.region_id=y.region_id),s&&(p.subregion=y.subregion,p.subregion_id=y.subregion_id),c&&(p.translations=y.translations),l&&(p.timezones=y.timezones),f&&(p.latitude=y.latitude,p.longitude=y.longitude),m&&(p.emoji=y.emoji,p.emojiU=y.emojiU),v.push(p)}return v})}catch(e){return Promise.reject(e)}},r.getStates=function(e){var r=e.countryName,n=e.iso3,o=e.iso2,u=e.geolocation;try{return Promise.resolve(function(){if(void 0!==r&&null!=r&&isNaN(Number(r))||void 0!==n&&isNaN(Number(n))||void 0!==o&&isNaN(Number(o))){var e=[];return Promise.resolve(t.promises.readFile(d("countries_states_cities.json"),"utf8")).then(function(t){for(var a,s=i(JSON.parse(t));!(a=s()).done;){var c=a.value;if(void 0!==r&&null!=r&&c.name.toLowerCase()===r.toLowerCase()||void 0!==n&&c.iso3.toLowerCase()===n.toLowerCase()||void 0!==o&&c.iso2.toLowerCase()===o.toLowerCase())for(var l,d=i(c.states);!(l=d()).done;){var m=l.value,g={};g.id=m.id,g.name=m.name,g.state_code=m.state_code,u&&(g.latitude=m.latitude,g.longitude=m.longitude),e.push(g)}}if(0!==e.length)return e;f("Country "+r+" not found","RESULT_NOT_FOUND",{country_name:"check entered country name: "+r,iso3:"check entered iso3: "+n,iso2:"check entered iso2: "+o})})}f("region name must be string","INPUT_TYPE_ERR")}())}catch(e){return Promise.reject(e)}},r.getCities=function(e){var r=e.countryName,n=e.stateName,o=e.geolocation;try{var u=[];return Promise.resolve(function(){if(isNaN(Number(r))&&isNaN(Number(n)))return Promise.resolve(t.promises.readFile(d("countries_states_cities.json"),"utf8")).then(function(e){for(var t,a=!1,s=!1,c=i(JSON.parse(e));!(t=c()).done;){var l=t.value;if(l.name.toLowerCase()===r.toLowerCase()){a=!0;for(var d,m=i(l.states);!(d=m()).done;){var g=d.value;if(g.name.toLowerCase()===n.toLowerCase()){s=!0;for(var v,y=i(g.cities);!(v=y()).done;){var p=v.value,h={};h.id=p.id,h.name=p.name,o&&(h.latitude=p.latitude,h.longitude=p.longitude),u.push(h)}}}}}if(u.length>0)return u;a?s?f("There is no city for "+r+","+n,"RESULT_NOT_FOUND"):f("State "+n+" not found","RESULT_NOT_FOUND",{state:"check entered state name: "+n}):f("Country "+r+" not found","RESULT_NOT_FOUND",{country:"check entered country name: "+r})});f("country name and state name must be string","INPUT_TYPE_ERR")}())}catch(e){return Promise.reject(e)}},e}());e.getAllCountries=function(e){var t=e.currency,r=e.dialCode,n=e.native,o=e.nationality,i=e.region,u=e.subregion,a=e.translations,s=e.timezones,c=e.geolocation,l=e.emojies,f=e.domain;try{return Promise.resolve(m.getCountries({currency:t,dialCode:r,native:n,nationality:o,region:i,subregion:u,translations:a,timezones:s,geolocation:c,emojies:l,domain:f}))}catch(e){return Promise.reject(e)}},e.getAllRegions=function(){try{return Promise.resolve(m.getRegions())}catch(e){return Promise.reject(e)}},e.getCountryStates=function(e){var t=e.country,r=e.iso3,n=e.iso2,o=e.geolocation;try{return Promise.resolve(function(){if(t&&""!==t||r&&""!==r||n&&""!==n)return null!=t&&null!=t&&(t=t.toString()),null!=r&&void 0!==r&&(r=r.toString()),null!=n&&null!=n&&(n=n.toString()),Promise.resolve(m.getStates({country:t,iso3:r,iso2:n,geolocation:o}));f("country name, iso3 or iso2 is missing, at least one of them is required!","MISSING_REQUIRED_VALUE")}())}catch(e){return Promise.reject(e)}},e.getStateCities=function(e){var t=e.country,r=e.state,n=e.geolocation;try{return Promise.resolve(function(){if(t&&void 0!==t&&""!==t)return function(){if(r&&void 0!==r&&""!==r)return isNaN(t)||(t=t.toString()),isNaN(r)||(r=r.toString()),Promise.resolve(m.getCities({country:t,state:r,geolocation:n}));f("state name is required!","MISSING_REQUIRED_VALUE")}();f("country name is required!","MISSING_REQUIRED_VALUE")}())}catch(e){return Promise.reject(e)}},e.getSubRegions=function(e){try{return Promise.resolve(function(){if(e&&void 0!==e&&""!==e)return Promise.resolve(m.getRegionByName(e)).then(function(e){return function(){if(void 0!==e)return Promise.resolve(m.getSubRegion(e.id))}()});f("region name is required!","MISSING_REQUIRED_VALUE")}())}catch(e){return Promise.reject(e)}}});
//# sourceMappingURL=index.umd.js.map
